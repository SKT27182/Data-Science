<html>
<head>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/toxicity"></script>
<script>
const threshold = 0.9;
// define a variable to hold the prediction text later
var text = "";
toxicity.load(threshold).then(model => {
    const sentences = prompt("Enter a sentence to classify");
    model.classify(sentences).then(predictions => {
        console.log(predictions);   
        for(i=0; i<7; i++){
            if(predictions[i].results[0].match){
                text += predictions[i].label + ": " + predictions[i].results[0].probabilities[1] + "\n";
            }  
        }
        // check if the text variable is empty or not
        if(text == ""){
            alert("Sentence is not toxic");
        } else {
            alert("The sentence is \n" + text);
        }
    });

});
</script> 
</head>
<body></body>
</html>    